{
  "name": "Image fetcher",
  "tagline": "",
  "body": "File fetcher\r\n============\r\n[![npm version](https://badge.fury.io/js/file-fetcher.svg)](https://badge.fury.io/js/file-fetcher)\r\n[![GitHub version](https://badge.fury.io/gh/pdonias%2Ffile-fetcher.svg)](https://badge.fury.io/gh/pdonias%2Ffile-fetcher)\r\n\r\n## Installation\r\n\r\n```sh\r\n$ npm install -g file-fetcher\r\n```\r\n\r\n## Usage\r\n\r\n- Create a config file with your configuration (See documentation and example below)\r\n- Run file-fetcher:\r\n\r\n```sh\r\n$ file-fetcher <config file> [<destination folder>]\r\n```\r\n\r\n## Config file JSON schema\r\n\r\n```json\r\n{\r\n  \"type\": \"array\",\r\n  \"items\": {\r\n    \"type\": \"object\",\r\n    \"description\": \"An object describing how, when and where the file will be downloaded\",\r\n    \"properties\": {\r\n      \"url\": {\r\n        \"type\": \"string\",\r\n        \"description\": \"The complete URL from which to download the file\"\r\n      },\r\n      \"path\": {\r\n        \"type\": \"string\",\r\n        \"description\": \"The relative local path where to save the file\"\r\n      },\r\n      \"name\": {\r\n        \"type\": \"string\",\r\n        \"description\": \"The name pattern of the destination file (e.g.: my-file-number-#.jpg)\"\r\n      },\r\n      \"firstIndex\": {\r\n        \"type\": \"number\",\r\n        \"description\": \"First number used as index (#) in name pattern\",\r\n        \"optional\": \"true\"\r\n      },\r\n      \"digits\": {\r\n        \"type\": \"number\",\r\n        \"description\": \"Minimum number of digits for the index (#) in name pattern. Smaller numbers will be padded with 0s on the left.\",\r\n        \"optional\": \"true\"\r\n      },\r\n      \"cron\": {\r\n        \"type\": \"string\",\r\n        \"description\": \"The cron pattern that determines the download frequence (delay can be used instead)\",\r\n        \"optional\": \"true\"\r\n      },\r\n      \"delay\": {\r\n        \"type\": \"number\",\r\n        \"description\": \"The delay in minutes that determines the download frequence (cron can be used instead)\",\r\n        \"optional\": \"true\"\r\n      },\r\n      \"description\": {\r\n        \"type\": \"string\",\r\n        \"description\": \"The string used to represent the file in log messages\",\r\n        \"optional\": \"true\"\r\n      }\r\n    }\r\n  }\r\n}\r\n```\r\n\r\n## File name pattern\r\n\r\nThe file name needs to be a pattern in order to not overwrite the same file after each download.\r\nPattern substitutions:\r\n  - `#` → index of the download iteration\r\n  - `{date}` → a string representing the current time\r\n\r\n## `delay` vs `cron`\r\n\r\nTo determine the download frequence of each file, you can use either the `delay` property or the `cron` property.\r\n- `delay` is simply a number of minutes between each download\r\n- `cron` is a [cron expression](https://en.wikipedia.org/wiki/Cron)\r\n\r\n## Config example\r\n\r\n```json\r\n[\r\n  {\r\n    \"url\": \"http://www.my-site.com/path/to/file.jpg\",\r\n    \"name\": \"file_nb_#({date}).jpg\",\r\n    \"path\": \"relative/path/to\",\r\n    \"cron\": \"0 0/2 7-18 * * *\",\r\n    \"description\": \"my file\"\r\n  },\r\n  {\r\n    \"url\": \"http://www.my-site.com/path/to/other/file.jpg\",\r\n    \"name\": \"file_nb_#.jpg\",\r\n    \"firstIndex\": \"42\",\r\n    \"digits\": \"4\",\r\n    \"path\": \"relative/path/to/other/file\",\r\n    \"delay\": \"3\",\r\n    \"description\": \"my other file\"\r\n  }\r\n]\r\n```\r\n",
  "note": "Don't delete this file! It's used internally to help with page regeneration."
}